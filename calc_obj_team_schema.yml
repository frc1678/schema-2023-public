# Used for running team calcs in Server
#
# Example:
#
# {
#     "team_number": "6",
#     "auto_avg_cone_high": 1.8843,
#     "auto_avg_cone_mid": 5.9323,
#     "auto_avg_cone_low": 2.4273,
#     "auto_avg_cone_total": 0.1843,
#     "auto_avg_cube_high": 2.4269,
#     "auto_avg_cube_mid": 0.7101,
#     "auto_avg_cube_low": 5.2911,
#     "auto_avg_cube_total": 5.1475,
#     "tele_avg_cone_high": 2.1581,
#     "tele_avg_cone_mid": 2.2104,
#     "tele_avg_cone_low": 5.8326,
#     "tele_avg_cone_total": 4.2839,
#     "tele_avg_cube_high": 4.73,
#     "tele_avg_cube_mid": 6.8621,
#     "tele_avg_cube_low": 2.9492,
#     "tele_avg_cube_total": 0.271,
#     "avg_incap_time": 3.3054,
#     "avg_gamepieces": 3.1765,
#     "avg_intakes_ground": 2.0553,
#     "avg_intakes_station": 1.6816,
#     "avg_intakes_low_row": 4.5391,
#     "avg_intakes_mid_row": 4.5391,
#     "avg_intakes_high_row": 4.5391,
#     "total_intakes": 6.1126,
#     "lfm_auto_avg_cone_high": 0.4212,
#     "lfm_auto_avg_cone_mid": 2.6782,
#     "lfm_auto_avg_cone_low": 4.4792,
#     "lfm_auto_avg_cone_total": 2.4548,
#     "lfm_auto_avg_cube_high": 3.3115,
#     "lfm_auto_avg_cube_mid": 4.4592,
#     "lfm_auto_avg_cube_low": 6.3139,
#     "lfm_auto_avg_cube_total": 4.8396,
#     "lfm_tele_avg_cone_high": 5.9877,
#     "lfm_tele_avg_cone_mid": 5.0843,
#     "lfm_tele_avg_cone_low": 1.4646,
#     "lfm_tele_avg_cone_total": 6.7576,
#     "lfm_tele_avg_cube_high": 2.1547,
#     "lfm_tele_avg_cube_mid": 1.6944,
#     "lfm_tele_avg_cube_low": 1.6895,
#     "lfm_tele_avg_cube_total": 4.9494,
#     "lfm_avg_intakes_ground": 6.4241,
#     "lfm_avg_intakes_station": 1.8711,
#     "lfm_avg_intakes_low_row": 3.3521,
#     "lfm_avg_intakes_mid_row": 3.3521,
#     "lfm_avg_intakes_high_row": 3.3521,
#     "lfm_total_intakes": 6.5972,
#     "lfm_avg_incap_time": 2.6824,
#     "lfm_avg_gamepieces": 4.0866,
#     "tele_avg_gamepiece_low": 5.6184,
#     "auto_sd_cone_high": 4.3532,
#     "auto_sd_cone_mid": 3.1988,
#     "auto_sd_cone_low": 1.1954,
#     "auto_sd_cone_total": 6.7162,
#     "auto_sd_cube_high": 0.9535,
#     "auto_sd_cube_mid": 5.4245,
#     "auto_sd_cube_low": 0.467,
#     "auto_sd_cube_total": 6.1142,
#     "tele_sd_cone_high": 0.6564,
#     "tele_sd_cone_mid": 3.1209,
#     "tele_sd_cone_low": 0.4901,
#     "tele_sd_cone_total": 6.7132,
#     "tele_sd_cube_high": 1.7109,
#     "tele_sd_cube_mid": 2.6629,
#     "tele_sd_cube_low": 5.8762,
#     "tele_sd_cube_total": 6.7094,
#     "sd_gamepieces": 6.4403,
#     "auto_charge_attempts": 6,
#     "auto_dock_successes": 1,
#     "auto_engage_successes": 4,
#     "tele_charge_attempts": 8,
#     "tele_dock_successes": 4,
#     "tele_engage_successes": 5,
#     "tele_park_successes": 5,
#     "position_zero_starts": 4,
#     "position_one_starts": 7,
#     "position_two_starts": 7,
#     "position_three_starts": 4,
#     "position_four_starts": 3,
#     "matches_incap": 8,
#     "total_incap": 3,
#     "matches_played": 2,
#     "lfm_position_zero_starts": 9,
#     "lfm_position_one_starts": 1,
#     "lfm_position_two_starts": 5,
#     "lfm_position_three_starts": 6,
#     "lfm_position_four_starts": 2,
#     "lfm_auto_charge_attempts": 5,
#     "lfm_auto_dock_successes": 9,
#     "lfm_auto_engage_successes": 4,
#     "lfm_tele_charge_attempts": 2,
#     "lfm_tele_dock_successes": 9,
#     "lfm_tele_engage_successes": 3,
#     "lfm_tele_park_successes": 4,
#     "lfm_matches_incap": 6,
#     "matches_tippy": 1,
#     "auto_max_cone_high": 9,
#     "auto_max_cone_mid": 1,
#     "auto_max_cone_low": 7,
#     "auto_max_cones": 6,
#     "auto_max_cube_high": 9,
#     "auto_max_cube_mid": 1,
#     "auto_max_cube_low": 7,
#     "auto_max_cubes": 8,
#     "tele_max_cone_high": 3,
#     "tele_max_cone_mid": 6,
#     "tele_max_cone_low": 3,
#     "tele_max_cones": 7,
#     "tele_max_cube_high": 8,
#     "tele_max_cube_mid": 1,
#     "tele_max_cube_low": 3,
#     "tele_max_cubes": 5,
#     "max_gamepieces": 5,
#     "max_incap": 5,
#     "max_auto_charge_level": "D",
#     "max_tele_charge_level": "P",
#     "lfm_auto_max_cone_high": 4,
#     "lfm_auto_max_cone_mid": 7,
#     "lfm_auto_max_cone_low": 8,
#     "lfm_auto_max_cones": 5,
#     "lfm_auto_max_cube_high": 8,
#     "lfm_auto_max_cube_mid": 5,
#     "lfm_auto_max_cube_low": 5,
#     "lfm_auto_max_cubes": 6,
#     "lfm_tele_max_cone_high": 6,
#     "lfm_tele_max_cone_mid": 3,
#     "lfm_tele_max_cone_low": 4,
#     "lfm_tele_max_cones": 5,
#     "lfm_tele_max_cube_high": 7,
#     "lfm_tele_max_cube_mid": 9,
#     "lfm_tele_max_cube_low": 8,
#     "lfm_tele_max_cubes": 5,
#     "lfm_max_gamepieces": 9,
#     "lfm_max_incap": 2,
#     "lfm_max_auto_charge_level": "E",
#     "lfm_max_tele_charge_level": "D",
#     "mode_preloaded_gamepiece": [
#         "B",
#         "B",
#         "B",
#         "N"
#     ],
#     "mode_start_position": [
#         3,
#         2
#     ],
#     "lfm_mode_start_position": [
#         3,
#         4,
#         1,
#         3
#     ],
#     "mode_auto_charge_level": [
#         "N",
#         "E",
#         "D"
#     ],
#     "lfm_mode_auto_charge_level": [
#         "E",
#         "D",
#         "N",
#         "N"
#     ],
#     "mode_tele_charge_level": [
#         "P",
#         "N",
#         "E"
#     ],
#     "lfm_mode_tele_charge_level": [
#         "E",
#         "N",
#         "P",
#         "P"
#     ],
#     "charge_percent_success": 5.1098,
#     "lfm_charge_percent_success": 0.8438,
#     "tele_charge_percent_success": 4.7745,
#     "lfm_tele_charge_percent_success": 1.5471,
#     "tele_avg_charge_points": 6.8296,
#     "auto_avg_charge_points": 1.5561
# }
#

# Contains information about this schema file
schema_file:
  # Version of schema file
  # Incremented every merged schema change
  version: 19

# Stores fields that will be added to database but do not require calculations
data:
  team_number:
    type: str

# Averages of fields in consolidated TIMs
averages:
  auto_avg_cone_high:
    tim_fields: [obj_tim.auto_cone_high]
    type: float
  auto_avg_cone_mid:
    tim_fields: [obj_tim.auto_cone_mid]
    type: float
  auto_avg_cone_low:
    tim_fields: [obj_tim.auto_cone_low]
    type: float
  auto_avg_cone_total:
    tim_fields: [obj_tim.auto_total_cones]
    type: float
  auto_avg_cube_high:
    tim_fields: [obj_tim.auto_cube_high]
    type: float
  auto_avg_cube_mid:
    tim_fields: [obj_tim.auto_cube_mid]
    type: float
  auto_avg_cube_low:
    tim_fields: [obj_tim.auto_cube_low]
    type: float
  auto_avg_cube_total:
    tim_fields: [obj_tim.auto_total_cubes]
    type: float
  auto_avg_gamepieces:
    tim_fields: [obj_tim.auto_total_gamepieces]
    type: float
  tele_avg_cone_high:
    tim_fields: [obj_tim.tele_cone_high]
    type: float
  tele_avg_cone_mid:
    tim_fields: [obj_tim.tele_cone_mid]
    type: float
  tele_avg_cone_low:
    tim_fields: [obj_tim.tele_cone_low]
    type: float
  tele_avg_cone_total:
    tim_fields: [obj_tim.tele_total_cones]
    type: float
  tele_avg_cube_high:
    tim_fields: [obj_tim.tele_cube_high]
    type: float
  tele_avg_cube_mid:
    tim_fields: [obj_tim.tele_cube_mid]
    type: float
  tele_avg_cube_low:
    tim_fields: [obj_tim.tele_cube_low]
    type: float
  tele_avg_cube_total:
    tim_fields: [obj_tim.tele_total_cubes]
    type: float
  tele_avg_gamepieces:
    tim_fields: [obj_tim.tele_total_gamepieces]
    type: float
  tele_avg_gamepieces_low:
    tim_fields: [obj_tim.tele_total_gamepieces_low]
    type: float
  auto_avg_gamepieces_low:
    tim_fields: [obj_tim.auto_total_gamepieces_low]
    type: float
  avg_incap_time:
    tim_fields: [obj_tim.incap]
    type: float
  avg_intakes_ground:
    tim_fields: [obj_tim.intakes_ground]
    type: float
  avg_intakes_station:
    tim_fields: [obj_tim.intakes_station]
    type: float
  avg_intakes_low_row:
    tim_fields: [obj_tim.intakes_low_row]
    type: float
  avg_intakes_mid_row:
    tim_fields: [obj_tim.intakes_mid_row]
    type: float
  avg_intakes_high_row:
    tim_fields: [obj_tim.intakes_high_row]
    type: float
  avg_total_intakes:
    tim_fields: [obj_tim.total_intakes]
    type: float
  avg_failed_scores:
    tim_fields: [obj_tim.failed_scores]
    type: float
  lfm_auto_avg_cone_high:
    tim_fields: [obj_tim.auto_cone_high]
    type: float
  lfm_auto_avg_cone_mid:
    tim_fields: [obj_tim.auto_cone_mid]
    type: float
  lfm_auto_avg_cone_low:
    tim_fields: [obj_tim.auto_cone_low]
    type: float
  lfm_auto_avg_cone_total:
    tim_fields: [obj_tim.auto_total_cones]
    type: float
  lfm_auto_avg_cube_high:
    tim_fields: [obj_tim.auto_cube_high]
    type: float
  lfm_auto_avg_cube_mid:
    tim_fields: [obj_tim.auto_cube_mid]
    type: float
  lfm_auto_avg_cube_low:
    tim_fields: [obj_tim.auto_cube_low]
    type: float
  lfm_auto_avg_cube_total:
    tim_fields: [obj_tim.auto_total_cubes]
    type: float
  lfm_auto_avg_gamepieces:
    tim_fields: [obj_tim.auto_total_gamepieces]
    type: float
  lfm_tele_avg_cone_high:
    tim_fields: [obj_tim.tele_cone_high]
    type: float
  lfm_tele_avg_cone_mid:
    tim_fields: [obj_tim.tele_cone_mid]
    type: float
  lfm_tele_avg_cone_low:
    tim_fields: [obj_tim.tele_cone_low]
    type: float
  lfm_tele_avg_cone_total:
    tim_fields: [obj_tim.tele_total_cones]
    type: float
  lfm_tele_avg_cube_high:
    tim_fields: [obj_tim.tele_cube_high]
    type: float
  lfm_tele_avg_cube_mid:
    tim_fields: [obj_tim.tele_cube_mid]
    type: float
  lfm_tele_avg_cube_low:
    tim_fields: [obj_tim.tele_cube_low]
    type: float
  lfm_tele_avg_cube_total:
    tim_fields: [obj_tim.tele_total_cubes]
    type: float
  lfm_tele_avg_gamepieces:
    tim_fields: [obj_tim.tele_total_gamepieces]
    type: float
  lfm_avg_intakes_ground:
    tim_fields: [obj_tim.intakes_ground]
    type: float
  lfm_avg_intakes_station:
    tim_fields: [obj_tim.intakes_station]
    type: float
  lfm_avg_intakes_low_row:
    tim_fields: [obj_tim.intakes_low_row]
    type: float
  lfm_avg_intakes_mid_row:
    tim_fields: [obj_tim.intakes_mid_row]
    type: float
  lfm_avg_intakes_high_row:
    tim_fields: [obj_tim.intakes_high_row]
    type: float
  lfm_avg_total_intakes:
    tim_fields: [obj_tim.total_intakes]
    type: float
  lfm_avg_incap_time:
    tim_fields: [obj_tim.incap]
    type: float
  lfm_tele_avg_gamepieces_low:
    tim_fields: [obj_tim.tele_total_gamepieces_low]
    type: float
  lfm_avg_failed_scores:
    tim_fields: [obj_tim.failed_scores]
    type: float
  lfm_auto_avg_gamepieces_low:
    tim_fields: [obj_tim.auto_total_gamepieces_low]
    type: float

# Standard deviations of fields in consolidated TIMs
# Used for predictions
standard_deviations:
  auto_sd_cone_high:
    tim_fields: [obj_tim.auto_cone_high]
    type: float
  auto_sd_cone_mid:
    tim_fields: [obj_tim.auto_cone_mid]
    type: float
  auto_sd_cone_low:
    tim_fields: [obj_tim.auto_cone_low]
    type: float
  auto_sd_cone_total:
    tim_fields: [obj_tim.auto_total_cones]
    type: float
  auto_sd_cube_high:
    tim_fields: [obj_tim.auto_cube_high]
    type: float
  auto_sd_cube_mid:
    tim_fields: [obj_tim.auto_cube_mid]
    type: float
  auto_sd_cube_low:
    tim_fields: [obj_tim.auto_cube_low]
    type: float
  auto_sd_cube_total:
    tim_fields: [obj_tim.auto_total_cubes]
    type: float
  auto_sd_gamepieces:
    tim_fields: [obj_tim.auto_total_gamepieces]
    type: float
  lfm_auto_sd_gamepieces:
    tim_fields: [obj_tim.auto_total_gamepieces]
    type: float
  tele_sd_cone_high:
    tim_fields: [obj_tim.tele_cone_high]
    type: float
  tele_sd_cone_mid:
    tim_fields: [obj_tim.tele_cone_mid]
    type: float
  tele_sd_cone_low:
    tim_fields: [obj_tim.tele_cone_low]
    type: float
  tele_sd_cone_total:
    tim_fields: [obj_tim.tele_total_cones]
    type: float
  tele_sd_cube_high:
    tim_fields: [obj_tim.tele_cube_high]
    type: float
  tele_sd_cube_mid:
    tim_fields: [obj_tim.tele_cube_mid]
    type: float
  tele_sd_cube_low:
    tim_fields: [obj_tim.tele_cube_low]
    type: float
  tele_sd_cube_total:
    tim_fields: [obj_tim.tele_total_cubes]
    type: float
  tele_sd_gamepieces:
    tim_fields: [obj_tim.tele_total_gamepieces]
    type: float
  lfm_tele_sd_gamepieces:
    tim_fields: [obj_tim.tele_total_gamepieces]
    type: float

# Counts of occurrences in consolidated TIMs
counts:
  auto_charge_attempts:
    tim_fields:
      not:
        obj_tim.auto_charge_attempt: 0
    type: int
  auto_dock_successes:
    tim_fields:
      - obj_tim.auto_charge_level: 'D'
      - obj_tim.auto_charge_level: 'E'
    type: int
  auto_dock_only_successes:
    tim_fields:
      obj_tim.auto_charge_level: 'D'
    type: int
  auto_engage_successes:
    tim_fields:
      obj_tim.auto_charge_level: 'E'
    type: int
  tele_charge_attempts:
    tim_fields:
      not:
        obj_tim.tele_charge_attempt: 0
    type: int
  tele_dock_successes:
    tim_fields:
      - obj_tim.tele_charge_level: "D"
      - obj_tim.tele_charge_level: "E"
    type: int
  tele_dock_only_successes:
    tim_fields:
      obj_tim.tele_charge_level: 'D'
    type: int
  tele_engage_successes:
    tim_fields:
      obj_tim.tele_charge_level: 'E'
    type: int
  tele_park_successes:
    tim_fields:
      obj_tim.tele_charge_level: 'P'
    type: int
  position_zero_starts:
    tim_fields:
      obj_tim.start_position: "0"
    type: int
  position_one_starts:
    tim_fields:
      obj_tim.start_position: "1"
    type: int
  position_two_starts:
    tim_fields:
      obj_tim.start_position: "2"
    type: int
  position_three_starts:
    tim_fields:
      obj_tim.start_position: "3"
    type: int
  position_four_starts:
    tim_fields:
      obj_tim.start_position: "4"
    type: int
  matches_incap:
    tim_fields:
      not:
        obj_tim.incap: 0
    type: int
  matches_played:
    tim_fields:
      not:
        match_number: 0
    type: int
  lfm_position_zero_starts:
    tim_fields:
      obj_tim.start_position: "0"
    type: int
  lfm_position_one_starts:
    tim_fields:
      obj_tim.start_position: "1"
    type: int
  lfm_position_two_starts:
    tim_fields:
      obj_tim.start_position: "2"
    type: int
  lfm_position_three_starts:
    tim_fields:
      obj_tim.start_position: "3"
    type: int
  lfm_position_four_starts:
    tim_fields:
      obj_tim.start_position: "4"
    type: int
  lfm_auto_charge_attempts:
    tim_fields:
      not:
        obj_tim.auto_charge_attempt: 0
    type: int
  lfm_auto_dock_successes:
    tim_fields:
      - obj_tim.auto_charge_level: 'D'
      - obj_tim.auto_charge_level: 'E'
    type: int
  lfm_auto_dock_only_successes:
    tim_fields:
      obj_tim.auto_charge_level: 'D'
    type: int
  lfm_auto_engage_successes:
    tim_fields:
      obj_tim.auto_charge_level: 'E'
    type: int
  lfm_tele_charge_attempts:
    tim_fields:
      not:
        obj_tim.tele_charge_attempt: 0
    type: int
  lfm_tele_dock_successes:
    tim_fields:
      - obj_tim.tele_charge_level: 'D'
      - obj_tim.tele_charge_level: 'E'
    type: int
  lfm_tele_dock_only_successes:
    tim_fields:
      obj_tim.tele_charge_level: 'D'
    type: int
  lfm_tele_engage_successes:
    tim_fields:
      obj_tim.tele_charge_level: 'E'
    type: int
  lfm_tele_park_successes:
    tim_fields:
      obj_tim.tele_charge_level: 'P'
    type: int
  lfm_matches_incap:
    tim_fields:
      not:
        obj_tim.incap: 0
    type: int

# Objective counts collected by Super Scouts
super_counts:
  matches_tippy:
    type: int
    tim_fields: [subj_tim.was_tippy]
  lfm_matches_tippy:
    type: int
    tim_fields: [subj_tim.was_tippy]
  matches_played_defense:
    type: int
    tim_fields: [subj_tim.played_defense]
  lfm_matches_played_defense:
    type: int
    tim_fields: [subj_tim.played_defense]

# Maximum or minimum values in consolidated TIMs
extrema:
  auto_max_cone_high:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.auto_cone_high]
  auto_max_cone_mid:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.auto_cone_mid]
  auto_max_cone_low:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.auto_cone_low]
  auto_max_cones:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.auto_total_cones]
  auto_max_cube_high:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.auto_cube_high]
  auto_max_cube_mid:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.auto_cube_mid]
  auto_max_cube_low:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.auto_cube_low]
  auto_max_cubes:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.auto_total_cubes]
  auto_max_gamepieces:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.auto_total_gamepieces]
  tele_max_cone_high:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.tele_cone_high]
  tele_max_cone_mid:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.tele_cone_mid]
  tele_max_cone_low:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.tele_cone_low]
  tele_max_cones:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.tele_total_cones]
  tele_max_cube_high:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.tele_cube_high]
  tele_max_cube_mid:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.tele_cube_mid]
  tele_max_cube_low:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.tele_cube_low]
  tele_max_cubes:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.tele_total_cubes]
  tele_max_gamepieces:
    extrema_type: max
    tim_fields: [obj_tim.tele_total_gamepieces]
    type: int
  max_incap:
    extrema_type: max
    tim_fields: [obj_tim.incap]
    type: int
  max_auto_charge_level:
    extrema_type: max
    tim_fields: [obj_tim.auto_charge_level]
    type: str
  max_tele_charge_level:
    extrema_type: max
    tim_fields: [obj_tim.tele_charge_level]
    type: str
  lfm_auto_max_cone_high:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.auto_cone_high]
  lfm_auto_max_cone_mid:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.auto_cone_mid]
  lfm_auto_max_cone_low:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.auto_cone_low]
  lfm_auto_max_cones:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.auto_total_cones]
  lfm_auto_max_cube_high:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.auto_cube_high]
  lfm_auto_max_cube_mid:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.auto_cube_mid]
  lfm_auto_max_cube_low:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.auto_cube_low]
  lfm_auto_max_cubes:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.auto_total_cubes]
  lfm_auto_max_gamepieces:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.auto_total_gamepieces]
  lfm_tele_max_cone_high:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.tele_cone_high]
  lfm_tele_max_cone_mid:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.tele_cone_mid]
  lfm_tele_max_cone_low:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.tele_cone_low]
  lfm_tele_max_cones:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.tele_total_cones]
  lfm_tele_max_cube_high:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.tele_cube_high]
  lfm_tele_max_cube_mid:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.tele_cube_mid]
  lfm_tele_max_cube_low:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.tele_cube_low]
  lfm_tele_max_cubes:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.tele_total_cubes]
  lfm_tele_max_gamepieces:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.tele_total_gamepieces]
  lfm_max_incap:
    extrema_type: max
    type: int
    tim_fields: [obj_tim.incap]
  lfm_max_auto_charge_level:
     extrema_type: max
     type: str
     tim_fields: [obj_tim.auto_charge_level]
  lfm_max_tele_charge_level:
    extrema_type: max
    type: str
    tim_fields: [obj_tim.tele_charge_level]
  

# Most common values
modes:
  mode_preloaded_gamepiece:
    tim_fields: [obj_tim.preloaded_gamepiece]
    ignore: null
    type: List
  mode_start_position:
    tim_fields: [obj_tim.start_position]
    ignore: '0'
    type: List
  lfm_mode_start_position:
    tim_fields: [obj_tim.start_position]
    ignore: '0'
    type: List
  mode_auto_charge_level:
    tim_fields: [obj_tim.auto_charge_level]
    ignore: 'N'
    type: List
  lfm_mode_auto_charge_level:
    tim_fields: [obj_tim.auto_charge_level]
    ignore: 'N'
    type: List
  mode_tele_charge_level:
    tim_fields: [obj_tim.tele_charge_level]
    ignore: 'N'
    type: List
  lfm_mode_tele_charge_level:
    tim_fields: [obj_tim.tele_charge_level]
    ignore: 'N'
    type: List

success_rates:
  charge_percent_success:
    team_successes: [auto_dock_successes, tele_dock_successes]
    team_attempts: [auto_charge_attempts, tele_charge_attempts, -tele_park_successes]
    type: float
  lfm_charge_percent_success:
    team_successes: [lfm_auto_dock_successes, lfm_tele_dock_successes]
    team_attempts: [lfm_auto_charge_attempts, lfm_tele_charge_attempts, -lfm_tele_park_successes]
    type: float
  auto_dock_percent_success:
    team_successes: [auto_dock_successes]
    team_attempts: [auto_charge_attempts]
    type: float
  lfm_auto_dock_percent_success:
    team_successes: [lfm_auto_dock_successes]
    team_attempts: [lfm_auto_charge_attempts]
    type: float
  auto_engage_percent_success:
    team_successes: [auto_engage_successes]
    team_attempts: [auto_charge_attempts]
    type: float
  lfm_auto_engage_percent_success:
    team_successes: [lfm_auto_engage_successes]
    team_attempts: [lfm_auto_charge_attempts]
    type: float
  tele_dock_percent_success:
    team_successes: [tele_dock_successes]
    team_attempts: [tele_charge_attempts, -tele_park_successes]
    type: float
  lfm_tele_dock_percent_success:
    team_successes: [lfm_tele_dock_successes]
    team_attempts: [lfm_tele_charge_attempts, -lfm_tele_park_successes]
    type: float
  tele_engage_percent_success:
    team_successes: [tele_engage_successes]
    team_attempts: [tele_charge_attempts, -tele_park_successes]
    type: float
  lfm_tele_engage_percent_success:
    team_successes: [lfm_tele_engage_successes]
    team_attempts: [lfm_tele_charge_attempts, -lfm_tele_park_successes]
    type: float
  tele_park_percent_success:
    team_successes: [tele_park_successes]
    team_attempts: [matches_played, -tele_dock_successes]
    type: float
  lfm_tele_park_percent_success:
    team_successes: [lfm_tele_park_successes]
    team_attempts: [4, -lfm_tele_dock_successes]
    type: float
  tele_dock_only_percent_success:
    team_successes: [tele_dock_only_successes]
    team_attempts: [tele_charge_attempts, -tele_park_successes]
    type: float
  lfm_tele_dock_only_percent_success:
    team_successes: [lfm_tele_dock_only_successes]
    team_attempts: [lfm_tele_charge_attempts, -lfm_tele_park_successes]
    type: float
  auto_dock_only_percent_success:
    team_successes: [auto_dock_only_successes]
    team_attempts: [auto_charge_attempts]
    type: float
  lfm_auto_dock_only_percent_success:
    team_successes: [lfm_auto_dock_only_successes]
    team_attempts: [lfm_auto_charge_attempts]
    type: float

# Calculates all the medians
medians:
  median_nonzero_incap: 
    tim_fields: [obj_tim.incap]
    ignore: 0
    type: float
  lfm_median_nonzero_incap:
    tim_fields: [obj_tim.incap]
    ignore: 0
    type: float

# Calculates average points for given fields
average_points:
  tele_avg_charge_points:
    tele_dock_only_successes: 6
    tele_engage_successes: 10
    type: float
  lfm_tele_avg_charge_points:
    lfm_tele_dock_only_successes: 6
    lfm_tele_engage_successes: 10
    type: float
  auto_avg_charge_points:
    auto_dock_only_successes: 8
    auto_engage_successes: 12
    type: float
  lfm_auto_avg_charge_points:
    lfm_auto_dock_only_successes: 8
    lfm_auto_engage_successes: 12
    type: float

# Calculates a sum of fields multiplied by point values
sums:
  auto_avg_total_points:
    auto_avg_cone_low : 3
    auto_avg_cone_mid : 4
    auto_avg_cone_high : 6
    auto_avg_cube_low : 3
    auto_avg_cube_mid : 4
    auto_avg_cube_high : 6
    auto_dock_percent_success: auto_avg_charge_points
    type: float
  tele_avg_total_points:
    avg_intakes_low_row: -2
    avg_intakes_mid_row: -3
    avg_intakes_high_row: -5
    tele_avg_cone_low : 2
    tele_avg_cone_mid : 3
    tele_avg_cone_high : 5
    tele_avg_cube_low : 2
    tele_avg_cube_mid : 3
    tele_avg_cube_high : 5
    tele_dock_percent_success: tele_avg_charge_points
    type: float
  avg_total_points:
    auto_avg_total_points: 1
    tele_avg_total_points: 1
    type: float
  total_incap:
    type: int
  lfm_total_incap:
    type: int